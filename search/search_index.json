{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"Documenta\u00e7\u00e3o Whitelabel"},{"location":"#nessa-documentacao-discorreremos-sobre-o-que-ha-no-projeto-atualmente-e-os-proximos-passos-de-desenvolvimento","title":"Nessa documenta\u00e7\u00e3o discorreremos sobre o que h\u00e1 no projeto atualmente e os pr\u00f3ximos passos de desenvolvimento.","text":""},{"location":"#o-projeto-atualmente-se-encontra-em-fases-de-testes-onde-temos-um-servico-de-backend-compartilhado-que-faz-a-distribuicao-de-requisicoes-de-acordo-com-a-origem-da-chamada","title":"O projeto atualmente se encontra em fases de testes, onde temos um servi\u00e7o de backend compartilhado que faz a distribui\u00e7\u00e3o de requisi\u00e7\u00f5es de acordo com a origem da chamada.","text":""},{"location":"about/ready/","title":"O que temos em nosos backend no momento?","text":""},{"location":"about/ready/#como-nos-organizamos","title":"Como nos organizamos?","text":""},{"location":"about/ready/#atualmente-o-nosso-backend-esta-separado-de-forma-modular-ou-seja-cada-pedacinho-e-responsavel-por-uma-parte-especifica-do-comportamento-para-que-o-cliente-possa-ter-a-liberdade-de-habilitar-ou-desabilitar-novos-modulos","title":"Atualmente o nosso backend est\u00e1 separado de forma modular, ou seja, cada pedacinho \u00e9 respons\u00e1vel por uma parte espec\u00edfica do comportamento, para que o cliente possa ter a liberdade de habilitar ou desabilitar novos m\u00f3dulos.","text":""},{"location":"about/ready/#nossos-modulos","title":"Nossos M\u00f3dulos","text":"Auth <p>Este m\u00f3dulo \u00e9 utilizado para autentica\u00e7\u00e3o dos usu\u00e1rios, e junto de uma tabela de permissionamento, define quais os acessos que aquele usu\u00e1rio pode ter</p> <p>Contamos tamb\u00e9m com um atributo de \"Salt\" para gerenciar recupera\u00e7\u00f5es de senha ou ativa\u00e7\u00f5es de usu\u00e1rio, fazendo assim com que o link seja inv\u00e1lidado ap\u00f3s o uso.</p> Home <p>O m\u00f3dulo Home atualmente conta com uma simples rota que retorna o host do usu\u00e1rio, sendo utilizado para ver se realmente o host cadastrado no cliente est\u00e1 sendo retornado da forma correta antes de adicionar novas altera\u00e7\u00f5es.</p> Projects <p>O m\u00f3dulo de Projetos \u00e9 utilizado para o cadastro e gerenciamento de projetos do time, atualmente conta com um cadastro simplificado e gera os dados de pagamento fict\u00edcios diretamente no banco de dados.</p> S3 <p>O m\u00f3dulo do S3 realiza uploads vinculando-os a uma pasta \u00fanica do cliente dentro da Amazon, o que facilita o controle de arquivos do mesmo sem interferir em outros clientes.</p> Settings <p>O m\u00f3dulo de configura\u00e7\u00f5es atualmente \u00e9 capaz de definir os parametros de Cores, logos e banners do cliente, bem como alguns textos chaves.</p> Users <p>O m\u00f3dulo de Usu\u00e1rios \u00e9 um dos cora\u00e7\u00f5es do sistema, j\u00e1 possui barreiras de permissionamentos e uma gama de testes para garantir sua integridade.</p>"},{"location":"about/ready/#desafios-concluidos","title":"Desafios conclu\u00eddos","text":"Arquitetura <p>A Nossa arquitetura de multi-tenants est\u00e1 muito bem estruturada no momento, simplificando cria\u00e7\u00e3o, manuten\u00e7\u00e3o e dele\u00e7\u00e3o de novos clientes.</p> <p>O Nosso sistema de versionamento do banco de dados tamb\u00e9m garante seguran\u00e7a dos dados e apontamento correto para onde determinado model deve ser criado, mantendo tamb\u00e9m um hist\u00f3rico de data/hora de cada modifica\u00e7\u00e3o gerada.</p>"},{"location":"about/todo/","title":"O que falta fazer?","text":""},{"location":"about/todo/#backend-frontend","title":"Backend + Frontend","text":""},{"location":"about/todo/#ainda-faltam-varios-modulos-para-completarmos-o-sistema-temos-como-plano-disponibiliza-lo-em-partes-porem-listaremos-todos-os-objetivos-abaixo","title":"Ainda faltam v\u00e1rios m\u00f3dulos para completarmos o sistema, temos como plano disponibiliza-lo em partes, por\u00e9m listaremos todos os objetivos abaixo:","text":"M\u00f3dulo de Pagamentos     - Temos como objetivo a implementa\u00e7\u00e3o da Koin, e modelaremos de forma gen\u00e9rica para aceitar novos servi\u00e7os de pagamento.  M\u00f3dulo de Incentivos     - Assim como na Motbot, queremos oferecer o m\u00f3dulo de incentivos, para que os torcedores possam incentivar o seu time nas partidas em que tiverem.  M\u00f3dulo de Partidas     - Queremos fazer a listagem e atualiza\u00e7\u00e3o autom\u00e1tica de todas as partidas e campeonatos em que o time for participar.  M\u00f3dulo de Filantropia     - Criar um m\u00f3dulo em que possa ser cadastrado e gerenciado associa\u00e7\u00f5es filantr\u00f3picas vinculadas ao time.  M\u00f3dulo de Experi\u00eancias + Marketplace     - Desenvolver um m\u00f3dulo de experi\u00eancia do usu\u00e1rio, para que ele fique ainda mais incentivado a contribuir com o seu time.  Auth SSO     - Propor para os usu\u00e1rios novas formas de login, como google, linkedin, github, etc..."},{"location":"about/todo/#somente-frontend","title":"Somente Frontend","text":"Auth + User + Projects     - Apesar de pronto no Backend, o front ainda n\u00e3o tem uma interface de login, autentica\u00e7\u00e3o e barreiras criadas para impedir acessos a m\u00f3dulos privados do cliente."},{"location":"about/todo/#desafios","title":"Desafios","text":"Orquestra\u00e7\u00e3o de Dados     - Apresentar para a Motbot uma interface que condense os dados dos clientes e possa realizar interven\u00e7\u00f5es pontuais."},{"location":"migrations/migrations/","title":"Models e Migra\u00e7\u00f5es","text":""},{"location":"migrations/migrations/#para-tudo-funcionar-bem-por-aqui-temos-uma-restricao-baseada-no-host-que-define-para-onde-vai-cada-coisa-sendo-assim-precisamos-entender-um-pouco-melhor-como-tudo-esta-organizado-e-como-adicionar-um-novo-cliente","title":"Para tudo funcionar bem, por aqui temos uma restri\u00e7\u00e3o baseada no Host, que define para onde vai cada coisa, sendo assim, precisamos entender um pouco melhor como tudo est\u00e1 organizado, e como adicionar um novo cliente.","text":""},{"location":"migrations/migrations/#o-nosso-diagrama-de-dados-se-comporta-da-seguinte-maneira","title":"O nosso diagrama de dados se comporta da seguinte maneira:","text":"flowchart TD     A[DATABASE]--&gt;B(COMMON_DATABASE)     A[DATABASE]--&gt;C(TENANT_SCHEMAS)     B --&gt; Z(TENANTS CONTROL) -- CLIENTS REGISTERS --&gt;0(Name, Host, Schema)     C --&gt; 99{MIDDLEWARE REDIRECT}     99 --&gt; D[Tenant 1]     99 --&gt; E[Tenant 2]     D -- APP CONTROL --&gt; 1(Configs, Payments, Permissions, Projects, Users)     E -- APP CONTROL --&gt; 3(Configs, Payments, Permissions, Projects, Users)"},{"location":"migrations/migrations/#a-criacao-de-novos-hosts-devem-passar-pelas-seguintes-etapas","title":"A cria\u00e7\u00e3o de novos hosts devem passar pelas seguintes etapas","text":"<ol> <li>Cria\u00e7\u00e3o de um novo Schema dentro do banco de dados</li> <li>Registro do Schema dentro de Tenants Control, adicionando ao cliente um Nome e um Host</li> <li>Migra\u00e7\u00e3o do novo Tenant para cria\u00e7\u00e3o das tabelas e defini\u00e7\u00e3o dos valores padr\u00e3o</li> </ol> <p>Quer criar um novo cliente? Clique Aqui para ver os passos.</p>"},{"location":"migrations/new_host/final_step/","title":"Adi\u00e7\u00e3o do novo cliente \u00e0 lista de tenants","text":""},{"location":"migrations/new_host/final_step/#esse-passo-assim-como-o-anterior-tambem-deve-ser-feito-manualmente-ainda-mas-futuramente-imagina-se-uma-interface-grafica-para-o-mesmo","title":"Esse passo, assim como o anterior, tamb\u00e9m deve ser feito manualmente ainda, mas futuramente imagina-se uma interface gr\u00e1fica para o mesmo.","text":"<ol> <li> <p>Abra um terminal dentro da pasta do projeto, e rode os seguintes comandos     <pre><code>pipenv shell\npipenv install\nmake migrate\n</code></pre></p> </li> <li> <p>Feito isso, as migra\u00e7\u00f5es do cliente est\u00e3o prontas, e j\u00e1 pode ser levantado um front-end para ele!</p> </li> </ol>"},{"location":"migrations/new_host/first_step/","title":"Cria\u00e7\u00e3o de um novo Schema dentro do banco de dados","text":""},{"location":"migrations/new_host/first_step/#no-momento-a-criacao-ainda-se-da-de-forma-manual-mas-futuramente-isso-podera-ser-feito-atraves-de-um-cli","title":"No momento, a cria\u00e7\u00e3o ainda se d\u00e1 de forma manual, mas futuramente isso poder\u00e1 ser feito atrav\u00e9s de um CLI.","text":"<ol> <li>Abra um novo console no banco de dados</li> <li>Rode a seguinte Query, substituindo o nome pelo schema do novo cliente:  <pre><code>CREATE SCHEMA {nome};\n</code></pre></li> <li>Anote o nome, pois ele ser\u00e1 utilizado na etapa a seguir.</li> </ol>"},{"location":"migrations/new_host/second_step/","title":"Adi\u00e7\u00e3o do novo cliente \u00e0 lista de tenants","text":""},{"location":"migrations/new_host/second_step/#esse-passo-assim-como-o-anterior-tambem-deve-ser-feito-manualmente-ainda-mas-futuramente-imagina-se-uma-interface-grafica-para-o-mesmo","title":"Esse passo, assim como o anterior, tamb\u00e9m deve ser feito manualmente ainda, mas futuramente imagina-se uma interface gr\u00e1fica para o mesmo.","text":"<ol> <li>Abra o banco no schema Common (default=whitelabel_common)</li> <li>Abra a tabela tenants_control e adicione uma nova linha.</li> <li>Preencha adicionando um Nome (N\u00e3o tem nenhum impacto final, \u00e9 para facil identifica\u00e7\u00e3o)</li> <li>Adicione o Host, note que n\u00e3o deve ser adicionado subdom\u00ednio, e sim o dom\u00ednio principal do host, por exemplo: <code>meutime.dev.br</code></li> <li>Adicione o Schema que acabou de criar para esse host (Importante: N\u00e3o fa\u00e7a nenhuma altera\u00e7\u00e3o manual nesse schema adicionando tabelas ou outras configura\u00e7\u00f5es!)</li> </ol>"},{"location":"migrations/new_host/second_step/#agora-sim-com-nosso-cliente-criado-e-seu-schema-devidamente-vinculado-a-ele-partimos-para-as-migracoes","title":"Agora sim! Com nosso cliente Criado e seu Schema devidamente vinculado a ele, partimos para as migra\u00e7\u00f5es.","text":""}]}